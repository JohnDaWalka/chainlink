// Code generated from https://github.com/smartcontractkit/ccip-owner-contracts
package mcmszksync

import (
	"context"

	"github.com/ethereum/go-ethereum/accounts/abi/bind"
	"github.com/ethereum/go-ethereum/common"
	"github.com/zksync-sdk/zksync2-go/accounts"
	"github.com/zksync-sdk/zksync2-go/clients"
	"github.com/zksync-sdk/zksync2-go/types"

	"github.com/smartcontractkit/ccip-owner-contracts/pkg/gethwrappers"
)

func DeployCallProxyZk(deployOpts *accounts.TransactOpts, client *clients.Client, wallet *accounts.Wallet, backend bind.ContractBackend, args ...interface{}) (common.Address, *types.Receipt, *gethwrappers.CallProxy, error) {
	var calldata []byte
	if len(args) > 0 {
		abi, err := gethwrappers.CallProxyMetaData.GetAbi()
		if err != nil {
			return common.Address{}, nil, nil, err
		}
		calldata, err = abi.Pack("", args...)
		if err != nil {
			return common.Address{}, nil, nil, err
		}
	}

	txHash, err := wallet.Deploy(deployOpts, accounts.Create2Transaction{
		Bytecode: CallProxyZkBytecode,
		Calldata: calldata,
	})
	if err != nil {
		return common.Address{}, nil, nil, err
	}

	receipt, err := client.WaitMined(context.Background(), txHash)
	if err != nil {
		return common.Address{}, nil, nil, err
	}

	address := receipt.ContractAddress
	contract, err := gethwrappers.NewCallProxy(address, backend)
	if err != nil {
		return common.Address{}, nil, nil, err
	}

	return address, receipt, contract, nil
}

var CallProxyZkBytecode = common.Hex2Bytes("000100000000000200000060031002700000002b083001970000000100200190000000390000c13d0000008002000039000000400020043f0000001f0380018f0000002d02800198000000100000613d000000000401034f0000000005000019000000004604043c0000000005650436000000000025004b0000000c0000c13d000100000008001d000000000003004b0000001e0000613d000000000121034f0000000303300210000000000402043300000000043401cf000000000434022f000000000101043b0000010003300089000000000131022f00000000013101cf000000000141019f00000000001204350000003201000041000000000010044300000000010004120000000400100443000000240000044300000000010004140000002b0010009c0000002b01008041000000c00110021000000033011001c7000080050200003900a600a10000040f0000000100200190000000790000613d0000000003000416000000000401043b0000000101000029000000600110021000000000020004140000002b0020009c0000002b02008041000000c002200210000000000112019f000000000003004b0000007a0000c13d00000000020400190000007d0000013d0000000002000416000000000002004b000000770000c13d0000001f028000390000002c02200197000000a002200039000000400020043f0000001f0380018f0000002d04800198000000a0024000390000004a0000613d000000a005000039000000000601034f000000006706043c0000000005750436000000000025004b000000460000c13d000000000003004b000000570000613d000000000141034f0000000303300210000000000402043300000000043401cf000000000434022f000000000101043b0000010003300089000000000131022f00000000013101cf000000000141019f0000000000120435000000200080008c000000770000413d000000a00100043d0000002e0010009c000000770000213d000000800010043f000000400200043d00000000001204350000002b0020009c0000002b02008041000000400120021000000000020004140000002b0020009c0000002b02008041000000c002200210000000000112019f0000002f011001c70000800d020000390000000103000039000000300400004100a6009c0000040f0000000100200190000000770000613d000000800100043d0000014000000443000001600010044300000020010000390000010000100443000000010100003900000120001004430000003101000041000000a70001042e0000000001000019000000a800010430000000000001042f00000034011001c70000800902000039000000000500001900a6009c0000040f00000060051002700000001f0450018f0000002d03500198000000880000613d000000000601034f0000000007000019000000006806043c0000000007870436000000000037004b000000840000c13d0000002b05500197000000000004004b000000960000613d000000000131034f0000000304400210000000000603043300000000064601cf000000000646022f000000000101043b0000010004400089000000000141022f00000000014101cf000000000161019f0000000000130435000000600150021000000001002001900000009a0000613d000000a70001042e000000a800010430000000000001042f0000009f002104210000000102000039000000000001042d0000000002000019000000000001042d000000a4002104230000000102000039000000000001042d0000000002000019000000000001042d000000a600000432000000a70001042e000000a80001043000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffff00000000000000000000000000000000000000000000000000000001ffffffe000000000000000000000000000000000000000000000000000000000ffffffe0000000000000000000000000ffffffffffffffffffffffffffffffffffffffff02000000000000000000000000000000000000200000000000000000000000003bfb4bbf112628248058745a3c57e35b13369386e474b8e56c552f3063a4a1960000000200000000000000000000000000000080000001000000000000000000310ab089e4439a4c15d089f94afb7896ff553aecb10793d0ab882de59d99a32e0200000200000000000000000000000000000044000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004b9dedc9d16298006266a6b140a20433d1ea62e0bb51f414190bb10a9f6c2067")
